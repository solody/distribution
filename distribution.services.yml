services:
  plugin.manager.commission_type:
    class: Drupal\distribution\Plugin\CommissionTypeManager
    parent: default_plugin_manager
  distribution.distribution_manager:
    class: Drupal\distribution\DistributionManager
    arguments: ['@finance.finance_manager', '@distribution.task_manager']
  distribution.order_subscriber:
    class: Drupal\distribution\EventSubscriber\OrderSubscriber
    arguments: ['@distribution.distribution_manager']
    tags:
      - { name: event_subscriber }
  distribution.distribution_order_processor:
    class: Drupal\distribution\DistributionOrderProcessor
    arguments: ['@distribution.distribution_manager']
    tags:
      - { name: commerce_order.order_processor, priority: 30, adjustment_type: distribution_amount_off }
  plugin.manager.task_type:
    class: Drupal\distribution\Plugin\TaskTypeManager
    parent: default_plugin_manager
  distribution.task_manager:
    class: Drupal\distribution\TaskManager
    arguments: []
